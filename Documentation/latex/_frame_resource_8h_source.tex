\doxysection{Frame\+Resource.\+h}
\hypertarget{_frame_resource_8h_source}{}\label{_frame_resource_8h_source}\index{InitializeDirect3D/FrameResource.h@{InitializeDirect3D/FrameResource.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}../../Common/d3dUtil.h"{}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}../../Common/MathHelper.h"{}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}../../Common/UploadBuffer.h"{}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00010}\mbox{\hyperlink{struct_object_constants}{00010}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_object_constants}{ObjectConstants}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00011}00011\ \{}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00012}00012\ \ \ \ \ DirectX::XMFLOAT4X4\ World\ =\ MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00013}00013\ \ \ \ \ DirectX::XMFLOAT4X4\ TexTransform\ =\ MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00014}00014\ \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00019}\mbox{\hyperlink{struct_pass_constants}{00019}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_pass_constants}{PassConstants}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00020}00020\ \{}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00021}00021\ \ \ \ \ DirectX::XMFLOAT4X4\ View\ =\ MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00022}00022\ \ \ \ \ DirectX::XMFLOAT4X4\ InvView\ =\ MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00023}00023\ \ \ \ \ DirectX::XMFLOAT4X4\ Proj\ =\ MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00024}00024\ \ \ \ \ DirectX::XMFLOAT4X4\ InvProj\ =\ MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00025}00025\ \ \ \ \ DirectX::XMFLOAT4X4\ ViewProj\ =\ MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00026}00026\ \ \ \ \ DirectX::XMFLOAT4X4\ InvViewProj\ =\ MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00027}00027\ \ \ \ \ DirectX::XMFLOAT3\ EyePosW\ =\ \{\ 0.0f,\ 0.0f,\ 0.0f\ \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00028}00028\ \ \ \ \ \textcolor{keywordtype}{float}\ cbPerObjectPad1\ =\ 0.0f;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00029}00029\ \ \ \ \ DirectX::XMFLOAT2\ RenderTargetSize\ =\ \{\ 0.0f,\ 0.0f\ \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00030}00030\ \ \ \ \ DirectX::XMFLOAT2\ InvRenderTargetSize\ =\ \{\ 0.0f,\ 0.0f\ \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00031}00031\ \ \ \ \ \textcolor{keywordtype}{float}\ NearZ\ =\ 0.0f;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00032}00032\ \ \ \ \ \textcolor{keywordtype}{float}\ FarZ\ =\ 0.0f;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00033}00033\ \ \ \ \ \textcolor{keywordtype}{float}\ TotalTime\ =\ 0.0f;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00034}00034\ \ \ \ \ \textcolor{keywordtype}{float}\ DeltaTime\ =\ 0.0f;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00036}00036\ \ \ \ \ DirectX::XMFLOAT4\ AmbientLight\ =\ \{\ 0.0f,\ 0.0f,\ 0.0f,\ 1.0f\ \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00038}00038\ \ \ \ \ \textcolor{comment}{//\ Indices\ [0,\ NUM\_DIR\_LIGHTS)\ are\ directional\ lights;}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00039}00039\ \ \ \ \ \textcolor{comment}{//\ indices\ [NUM\_DIR\_LIGHTS,\ NUM\_DIR\_LIGHTS+NUM\_POINT\_LIGHTS)\ are\ point\ lights;}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00040}00040\ \ \ \ \ \textcolor{comment}{//\ indices\ [NUM\_DIR\_LIGHTS+NUM\_POINT\_LIGHTS,\ NUM\_DIR\_LIGHTS+NUM\_POINT\_LIGHT+NUM\_SPOT\_LIGHTS)}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00041}00041\ \ \ \ \ \textcolor{comment}{//\ are\ spot\ lights\ for\ a\ maximum\ of\ MaxLights\ per\ object.}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00042}00042\ \ \ \ \ Light\ Lights[MaxLights];}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00043}00043\ \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00048}\mbox{\hyperlink{struct_vertex}{00048}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_vertex}{Vertex}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00049}00049\ \{}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00050}00050\ \ \ \ \ DirectX::XMFLOAT3\ Pos;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00051}00051\ \ \ \ \ DirectX::XMFLOAT3\ Normal;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00052}00052\ \ \ \ \ \textcolor{comment}{//step1}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00053}00053\ \ \ \ \ DirectX::XMFLOAT2\ TexC;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00054}00054\ \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00059}\mbox{\hyperlink{struct_frame_resource}{00059}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_frame_resource_a496fdce5ab50522a3dcbf9260be6e86c}{FrameResource}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00060}00060\ \{}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00061}00061\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00062}00062\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00070}00070\ \ \ \ \ \mbox{\hyperlink{struct_frame_resource_a496fdce5ab50522a3dcbf9260be6e86c}{FrameResource}}(ID3D12Device*\ device,\ UINT\ passCount,\ UINT\ objectCount,\ UINT\ materialCount);}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00071}00071\ \ \ \ \ \mbox{\hyperlink{struct_frame_resource_a496fdce5ab50522a3dcbf9260be6e86c}{FrameResource}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_frame_resource_a496fdce5ab50522a3dcbf9260be6e86c}{FrameResource}}\&\ rhs)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00072}00072\ \ \ \ \ \mbox{\hyperlink{struct_frame_resource_a496fdce5ab50522a3dcbf9260be6e86c}{FrameResource}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_frame_resource_a496fdce5ab50522a3dcbf9260be6e86c}{FrameResource}}\&\ rhs)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00076}00076\ \ \ \ \ \mbox{\hyperlink{struct_frame_resource_a93d669d1d4db3b4ed5cd6f0f6b921809}{\string~FrameResource}}();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00078}00078\ \ \ \ \ \textcolor{comment}{//\ We\ cannot\ reset\ the\ allocator\ until\ the\ GPU\ is\ done\ processing\ the\ commands.}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00079}00079\ \ \ \ \ \textcolor{comment}{//\ So\ each\ frame\ needs\ their\ own\ allocator.}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00080}00080\ \ \ \ \ Microsoft::WRL::ComPtr<ID3D12CommandAllocator>\ CmdListAlloc;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00082}00082\ \ \ \ \ \textcolor{comment}{//\ We\ cannot\ update\ a\ cbuffer\ until\ the\ GPU\ is\ done\ processing\ the\ commands}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00083}00083\ \ \ \ \ \textcolor{comment}{//\ that\ reference\ it.\ \ So\ each\ frame\ needs\ their\ own\ cbuffers.}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00084}00084\ \ \ \ \ \textcolor{comment}{//\ std::unique\_ptr<UploadBuffer<FrameConstants>>\ FrameCB\ =\ nullptr;}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00085}00085\ \ \ \ \ std::unique\_ptr<UploadBuffer<PassConstants>>\ PassCB\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00086}00086\ \ \ \ \ std::unique\_ptr<UploadBuffer<MaterialConstants>>\ MaterialCB\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00087}00087\ \ \ \ \ std::unique\_ptr<UploadBuffer<ObjectConstants>>\ ObjectCB\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00089}00089\ \ \ \ \ \textcolor{comment}{//\ Fence\ value\ to\ mark\ commands\ up\ to\ this\ fence\ point.\ \ This\ lets\ us}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00090}00090\ \ \ \ \ \textcolor{comment}{//\ check\ if\ these\ frame\ resources\ are\ still\ in\ use\ by\ the\ GPU.}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00091}00091\ \ \ \ \ UINT64\ Fence\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00092}00092\ \};}

\end{DoxyCode}
